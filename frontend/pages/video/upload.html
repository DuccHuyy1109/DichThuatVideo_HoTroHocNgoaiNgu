<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Video - Video Subtitle AI</title>
    
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/components/navbar.css">
    <link rel="stylesheet" href="../../css/components/sidebar.css">
    <link rel="stylesheet" href="../../css/pages/upload.css">
</head>
<body>
    <!-- Top Navbar -->
    <nav class="navbar-dashboard">
        <div class="navbar-brand">
            <span class="navbar-title">Video Subtitle AI</span>
        </div>
        <div class="navbar-right">
            <a href="../dashboard/index.html" class="btn btn-outline">‚Üê V·ªÅ Dashboard</a>
        </div>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="../dashboard/index.html" class="nav-item">
                    <span class="icon">üè†</span>
                    <span>Trang ch·ªß</span>
                </a>
                <a href="upload.html" class="nav-item active">
                    <span class="icon">üì§</span>
                    <span>Upload Video</span>
                </a>
                <a href="list.html" class="nav-item">
                    <span class="icon">üé¨</span>
                    <span>Video c·ªßa t√¥i</span>
                </a>
                <a href="../vocabulary/saved.html" class="nav-item">
                    <span class="icon">üìö</span>
                    <span>T·ª´ v·ª±ng ƒë√£ l∆∞u</span>
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <h1 class="page-title">Upload Video</h1>
            <p class="page-subtitle">T·∫£i l√™n video ƒë·ªÉ b·∫Øt ƒë·∫ßu h·ªçc ngo·∫°i ng·ªØ v·ªõi AI</p>

            <!-- Upload Form -->
            <div class="upload-container">
                <div class="upload-box" id="uploadBox">
                    <div class="upload-icon">üì§</div>
                    <h3>K√©o th·∫£ video v√†o ƒë√¢y</h3>
                    <p>ho·∫∑c</p>
                    <button type="button" class="btn btn-primary" onclick="document.getElementById('videoFile').click()">
                        Ch·ªçn file
                    </button>
                    <input type="file" id="videoFile" accept="video/*" style="display: none;">
                    <p class="upload-hint">H·ªó tr·ª£: MP4, AVI, MOV, MKV (T·ªëi ƒëa 500MB)</p>
                </div>

                <!-- Video Info Form -->
                <form id="uploadForm" class="upload-form" style="display: none;">
                    <div class="form-group">
                        <label for="videoTitle">Ti√™u ƒë·ªÅ video *</label>
                        <input 
                            type="text" 
                            id="videoTitle" 
                            class="form-input"
                            placeholder="Nh·∫≠p ti√™u ƒë·ªÅ cho video"
                            required
                        >
                    </div>

                    <div class="form-group">
                        <label for="sourceLanguage">Ng√¥n ng·ªØ ngu·ªìn</label>
                        <select id="sourceLanguage" class="form-input">
                            <option value="auto">T·ª± ƒë·ªông ph√°t hi·ªán</option>
                            <option value="en">English</option>
                            <option value="ja">Êó•Êú¨Ë™û</option>
                            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="fr">Fran√ßais</option>
                            <option value="de">Deutsch</option>
                            <option value="es">Espa√±ol</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="targetLanguage">D·ªãch sang</label>
                        <select id="targetLanguage" class="form-input">
                            <option value="vi" selected>Ti·∫øng Vi·ªát</option>
                            <option value="en">English</option>
                            <option value="ja">Êó•Êú¨Ë™û</option>
                        </select>
                    </div>

                    <!-- File Preview -->
                    <div class="file-preview" id="filePreview">
                        <div class="file-info">
                            <div class="file-icon">üé¨</div>
                            <div class="file-details">
                                <div class="file-name" id="fileName"></div>
                                <div class="file-size" id="fileSize"></div>
                            </div>
                            <button type="button" class="btn-remove" onclick="removeFile()">‚úï</button>
                        </div>
                        <div class="upload-progress" id="uploadProgress" style="display: none;">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="progress-text">
                                <span id="progressPercent">0%</span>
                                <span id="progressStatus">ƒêang upload...</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn btn-outline" onclick="resetForm()">
                            H·ªßy
                        </button>
                        <button type="submit" class="btn btn-primary" id="submitBtn">
                            T·∫£i l√™n v√† x·ª≠ l√Ω
                        </button>
                    </div>
                </form>

                <!-- Success Message -->
                <div class="success-message" id="successMessage" style="display: none;">
                    <div class="success-icon">‚úì</div>
                    <h3>Upload th√†nh c√¥ng!</h3>
                    <p>Video ƒëang ƒë∆∞·ª£c x·ª≠ l√Ω. B·∫°n c√≥ th·ªÉ xem ti·∫øn tr√¨nh trong danh s√°ch video.</p>
                    <div class="success-actions">
                        <a href="list.html" class="btn btn-primary">Xem danh s√°ch video</a>
                        <button type="button" class="btn btn-outline" onclick="uploadAnother()">
                            Upload video kh√°c
                        </button>
                    </div>
                </div>
            </div>

            <!-- Instructions -->
            <div class="instructions">
                <h2>H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng</h2>
                <div class="steps-list">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Ch·ªçn video</h4>
                            <p>Upload video t·ª´ m√°y t√≠nh ho·∫∑c k√©o th·∫£ tr·ª±c ti·∫øp</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>C·∫•u h√¨nh</h4>
                            <p>Nh·∫≠p ti√™u ƒë·ªÅ v√† ch·ªçn ng√¥n ng·ªØ ngu·ªìn/ƒë√≠ch</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>X·ª≠ l√Ω</h4>
                            <p>AI s·∫Ω t·ª± ƒë·ªông t·∫°o ph·ª• ƒë·ªÅ, d·ªãch v√† tr√≠ch xu·∫•t t·ª´ v·ª±ng</p>
                        </div>
                    </div>
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>H·ªçc t·∫≠p</h4>
                            <p>Xem video v·ªõi ph·ª• ƒë·ªÅ song ng·ªØ v√† l√†m quiz</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="../../js/config.js"></script>
    <script src="../../js/utils/storage.js"></script>
    <script src="../../js/utils/helpers.js"></script>
    <script src="../../js/api/auth-api.js"></script>
    <script src="../../js/api/video-api.js"></script>
    <script src="../../js/pages/upload.js"></script>
</body>
</html>